[gd_scene load_steps=16 format=3 uid="uid://bp6qss41chrho"]

[ext_resource type="Script" uid="uid://bikrhnp7h2fj6" path="res://scripts/pothole_spawner.gd" id="1_o5qli"]
[ext_resource type="Script" uid="uid://dwnwtqxdffhvo" path="res://scripts/game_manager.gd" id="1_tbgi4"]
[ext_resource type="PackedScene" uid="uid://bl8poaryl3h53" path="res://scenes/prefabs/pothole.tscn" id="2_0wfyh"]
[ext_resource type="Script" uid="uid://cqp60ymv8d6c2" path="res://scripts/car_spawner.gd" id="3_jyhfs"]
[ext_resource type="PackedScene" uid="uid://ctmkpurla8vot" path="res://scenes/prefabs/vehicles/car.tscn" id="4_tbgi4"]
[ext_resource type="PackedScene" uid="uid://b8coxilqnsum0" path="res://scenes/prefabs/vehicles/bus.tscn" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://d2id2nwbly58y" path="res://scenes/prefabs/vehicles/bike.tscn" id="7_o6xl0"]
[ext_resource type="Texture2D" uid="uid://bt0r1bo428iaf" path="res://assets/art/map-placeholder.svg" id="8_tipki"]

[sub_resource type="Curve2D" id="Curve2D_85g3d"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 482, -30, 0, 0, 0, 0, 809, 741)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_choun"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -171, 41, 0, 0, 0, 0, 1495, 613)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_ya4ey"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1341, 641, 0, 0, 0, 0, -37, 143)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_eb6dy"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 753, 727, 0, 0, 0, 0, 454, -16)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_trceg"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 753, 727, 30.613003, 25.289001, -30.613003, -25.289001, 608, 378, 0, 0, 0, 0, -24, 148)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_a8y0u"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 753, 727, -49.247, 17.303001, 49.247, -17.303001, 631, 327, 0, 0, 0, 0, 1288, 542)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_jkv2x"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 487, -22, -46.585003, -25.289001, 46.585003, 25.289001, 643, 316, 0, 0, 0, 0, 1288, 542)
}
point_count = 3

[node name="Node2D" type="Node2D" node_paths=PackedStringArray("car_spawner", "pothole_spawner")]
script = ExtResource("1_tbgi4")
car_spawner = NodePath("CarSpawner")
pothole_spawner = NodePath("PotholeSpawner")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(631, 359)
scale = Vector2(0.65925926, 0.65925926)
texture = ExtResource("8_tipki")

[node name="PotholeSpawner" type="Polygon2D" parent="."]
color = Color(1, 1, 1, 0)
polygon = PackedVector2Array(478, 0, 493, 2, 600, 293, 1228, 521, 1257, 584, 655, 396, 784, 694, 747, 698, 630, 380, -5, 150, -5, 116, 462, 248, 492, 104, 538, 218, 506, 273, 583, 303)
script = ExtResource("1_o5qli")
max_delay = 60.0
min_delay = 30.0
pothole_scene = ExtResource("2_0wfyh")

[node name="CarSpawner" type="Node2D" parent="."]
script = ExtResource("3_jyhfs")
max_delay = 1.0
min_delay = 0.1
curves = Array[Curve2D]([SubResource("Curve2D_85g3d"), SubResource("Curve2D_choun"), SubResource("Curve2D_ya4ey"), SubResource("Curve2D_eb6dy"), SubResource("Curve2D_trceg"), SubResource("Curve2D_a8y0u"), SubResource("Curve2D_jkv2x")])
car_packed = ExtResource("4_tbgi4")
bus_packed = ExtResource("6_tefeu")
bike_packed = ExtResource("7_o6xl0")
metadata/_custom_type_script = "uid://cqp60ymv8d6c2"

[node name="Button" type="Button" parent="."]
offset_left = 55.0
offset_top = 54.0
offset_right = 173.0
offset_bottom = 85.0
text = "Increase wave"

[node name="Path2D" type="Path2D" parent="."]

[connection signal="pressed" from="Button" to="." method="wave_increase"]
